---
import AppHeader from './AppHeader.astro'
import Button from './ui/Button.astro'
import Input from './ui/Input.astro'
import ErrorMessage from './ui/ErrorMessage.astro'
import UrlList from './UrlList.astro'
---

<div class="container mx-auto p-6 max-w-2xl">
  <AppHeader />

  <div class="border-neon rounded-lg p-6 mb-6">
    <form id="url-form" class="space-y-4">
      <Input
        type="url"
        id="original-url"
        name="originalUrl"
        label="Original URL"
        placeholder="https://tab-to-dev.click/tejon-tech/"
        required
      />

      <Input
        type="password"
        id="auth-token"
        name="authToken"
        label="Auth Token"
        placeholder="Enter your auth token"
        required
      />

      <Button type="submit" class="btn btn-outline btn-orange w-full">
        Shorten URL
      </Button>
    </form>
  </div>

  <ErrorMessage id="error" message="Error" />

  <UrlList server:defer>
    <div slot="fallback" class="loading">
      <span class="dot"></span>
      <span class="dot"></span>
      <span class="dot"></span>
    </div>
  </UrlList>
</div>
